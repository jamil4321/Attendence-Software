(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{263:function(e,t,n){},270:function(e,t,n){},425:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),s=n.n(r),o=(n(263),n(16)),i=n(232),l=n(23),u=(n(270),n(12)),d=n.n(u),j=n(21),b=n(10),h=n(496),m=n(465),O=n(468),p=n(497),f=n(473),x=n(494),g=n(476),y=n(475),v=n(104),S=n.n(v),w=n(56),T=n(466),D=n(467),k=n(457),C=n(464),A=n(462),N=n(463),R=n(461),E=n(2);function P(e){console.log(e);var t=c.a.useState(!1),n=Object(b.a)(t,2),a=n[0],r=n[1],s=function(){e.close(),r(!1)};return c.a.useEffect((function(){e.open?r(!0):r(!1)})),Object(E.jsx)("div",{children:Object(E.jsxs)(k.a,{open:a,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(R.a,{id:"alert-dialog-title"}),Object(E.jsx)(A.a,{children:Object(E.jsx)(N.a,{id:"alert-dialog-description",children:e.message})}),Object(E.jsx)(C.a,{children:Object(E.jsx)(m.a,{onClick:s,color:"primary",autoFocus:!0,children:"Ok"})})]})})}var I=Object(T.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),L=function(){var e=c.a.useState(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState(""),s=Object(b.a)(r,2),i=s[0],l=s[1],u=c.a.useState(""),v=Object(b.a)(u,2),T=v[0],k=v[1],C=c.a.useState(!1),A=Object(b.a)(C,2),N=A[0],R=A[1],L=Object(o.b)(),B=function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n||""===i){e.next=10;break}return e.next=4,fetch("http://localhost:2000/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:i})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}));case 4:(c=e.sent)&&"Matched"===c.message?(console.log(c),L({type:"SIGNIN",payload:c}),localStorage.setItem("auth",c.asscessToken),localStorage.setItem("user",JSON.stringify(c.user))):(k(c.message),R(!0)),a(""),l(""),e.next=12;break;case 10:k("All Feild Are Required"),R(!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=I();return Object(E.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(E.jsx)(O.a,{}),Object(E.jsxs)("div",{className:W.paper,children:[Object(E.jsx)(h.a,{className:W.avatar,children:Object(E.jsx)(S.a,{})}),Object(E.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(E.jsxs)("form",{className:W.form,noValidate:!0,onSubmit:function(e){return B(e)},children:[Object(E.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:n,onChange:function(e){return a(e.target.value)}}),Object(E.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:i,onChange:function(e){return l(e.target.value)}}),Object(E.jsx)(f.a,{control:Object(E.jsx)(x.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(E.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:W.submit,children:"Sign In"}),Object(E.jsx)(y.a,{container:!0,children:Object(E.jsx)(y.a,{item:!0,children:Object(E.jsx)(g.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]}),Object(E.jsx)(P,{open:N,message:T,close:function(){R(!1)}})]})},B=Object(T.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),W=function(){var e=c.a.useState(""),t=Object(b.a)(e,2),n=t[0],a=t[1],r=c.a.useState(""),s=Object(b.a)(r,2),o=s[0],i=s[1],l=c.a.useState(""),u=Object(b.a)(l,2),f=u[0],x=u[1],v=c.a.useState(""),T=Object(b.a)(v,2),k=T[0],C=T[1],A=c.a.useState(!1),N=Object(b.a)(A,2),R=N[0],I=N[1],L=c.a.useState(""),W=Object(b.a)(L,2),M=W[0],F=W[1],G=B(),U=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n||""===o||""===f||""===k){e.next=20;break}if(f!==k){e.next=16;break}return c={email:o,name:n,password:f},e.next=6,fetch("http://127.0.0.1:2000/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return e}));case 6:r=e.sent,console.log("data",r),F(r.message),I(!0),a(""),i(""),x(""),C(""),e.next=18;break;case 16:F("Password is not Matched"),I(!0);case 18:e.next=22;break;case 20:F("All Feild Are Required"),I(!0);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(D.a,{component:"main",maxWidth:"xs",children:[Object(E.jsx)(O.a,{}),Object(E.jsxs)("div",{className:G.paper,children:[Object(E.jsx)(h.a,{className:G.avatar,children:Object(E.jsx)(S.a,{})}),Object(E.jsx)(w.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(E.jsxs)("form",{className:G.form,onSubmit:function(e){return U(e)},children:[Object(E.jsxs)(y.a,{container:!0,spacing:2,children:[Object(E.jsx)(y.a,{item:!0,xs:12,children:Object(E.jsx)(p.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:n,onChange:function(e){return a(e.target.value)}})}),Object(E.jsx)(y.a,{item:!0,xs:12,children:Object(E.jsx)(p.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:o,onChange:function(e){return i(e.target.value)}})}),Object(E.jsx)(y.a,{item:!0,xs:12,children:Object(E.jsx)(p.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:f,onChange:function(e){return x(e.target.value)}})}),Object(E.jsx)(y.a,{item:!0,xs:12,children:Object(E.jsx)(p.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirm Password",label:"confrim Password",type:"password",id:"confirm",autoComplete:"current-password",value:k,onChange:function(e){return C(e.target.value)}})})]}),Object(E.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:G.submit,children:"Sign Up"}),Object(E.jsx)(y.a,{container:!0,justify:"flex-end",children:Object(E.jsx)(y.a,{item:!0,children:Object(E.jsx)(g.a,{href:"/",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(E.jsx)(P,{open:R,message:M,close:function(){I(!1)}})]})})},M=n(86),F=n(15),G=n(4),U=n(30),J=n(498),q=n(489),V=n(484),z=n(472),_=n(490),K=n(474),Y=n(229),H=n.n(Y),X=n(230),Q=n.n(X),Z=n(231),$=n.n(Z),ee=n(428),te=n(491),ne=n(488),ae=n(112),ce=n.n(ae),re=n(477),se=n(209),oe=n.n(se),ie=n(479),le=n(483),ue=n(482),de=n(478),je=n(480),be=n(481),he=n(153),me=Object(T.a)((function(e){return{formControl:{margin:e.spacing(1)},selectEmpty:{marginTop:e.spacing(2)}}})),Oe=function(e){me();var t=c.a.useState(""),n=Object(b.a)(t,2),a=n[0],r=n[1],s=c.a.useState(""),i=Object(b.a)(s,2),l=i[0],u=i[1],h=c.a.useState(""),O=Object(b.a)(h,2),f=O[0],x=(O[1],c.a.useState(!1)),g=Object(b.a)(x,2),y=g[0],v=g[1],S=function(){e.close(),v(!1)},w=Object(o.b)(),T=Object(o.c)((function(e){return{accessToken:e.accessToken,classRoom:e.classRoom}})),D=T.accessToken;T.classRoom;c.a.useEffect((function(){e.open?v(!0):v(!1)}));var N=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Clicked"),t.preventDefault(),""===a){e.next=7;break}return e.next=5,fetch("http://localhost:2000/api/newClassRoom",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+D},body:JSON.stringify({classRoomName:a})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 5:(n=e.sent)&&"Class Room Added SuccessFully"===n.message?(w({type:"ADDCLASSROOM",payload:n}),S()):(S(),alert(n.message));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Clicked"),t.preventDefault(),""===l){e.next=7;break}return e.next=5,fetch("http://localhost:2000/api/newStudent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+D},body:JSON.stringify({name:l,classRoom:f})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 5:(n=e.sent)&&"Student Added"===n.message?(w({type:"ADDSTUDENT",payload:n}),S(),u("")):(S(),alert(n.message));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:"classRoom"===e.variant&&Object(E.jsx)("form",{children:Object(E.jsxs)(k.a,{open:y,onClose:S,"aria-labelledby":"form-dialog-title",children:[Object(E.jsx)(R.a,{id:"form-dialog-title",children:"Add ClassRoom"}),Object(E.jsx)(A.a,{children:Object(E.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"ClassRoom",label:"Add Class Room",name:"Add Class Room",value:a,onChange:function(e){return r(e.target.value)}})}),Object(E.jsx)(C.a,{children:Object(E.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){return N(e)},children:"Add Class Room"})})]})})||"students"===e.variant&&Object(E.jsx)("form",{children:Object(E.jsxs)(k.a,{open:y,onClose:S,"aria-labelledby":"form-dialog-title",children:[Object(E.jsx)(R.a,{id:"form-dialog-title",children:"Add Student"}),Object(E.jsx)(A.a,{children:Object(E.jsx)(p.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"Add Student",label:"Add Student",name:"Add Student",value:l,onChange:function(e){return u(e.target.value)}})}),Object(E.jsx)(C.a,{children:Object(E.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){return P(e)},children:"Add Students"})})]})})})},pe=Object(T.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)},table:{minWidth:650}}})),fe=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return{accessToken:e.accessToken,students:e.students}})),n=t.accessToken,a=t.students;c.a.useEffect((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var r=function(){var t=Object(j.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:2000/api/getAllStudents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:a=t.sent,console.log(a),e({type:"GETSTUDENT",payload:a});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();console.log(a);var s=pe(),i=c.a.useState(!1),l=Object(b.a)(i,2),u=l[0],h=l[1],O=function(){var t=Object(j.a)(d.a.mark((function t(a){var c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://localhost:2000/api/deleteStudent",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify({id:a})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:c=t.sent,console.log(c),"Student Deleted"!==c.message&&alert(c.message),e({type:"DELETEDATA",payload:a});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:s.root,style:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignContent:"flex-end",height:"80vh"},children:[Object(E.jsx)("div",{children:Object(E.jsx)(re.a,{color:"primary","aria-label":"add",onClick:function(){return h(!0)},children:Object(E.jsx)(oe.a,{})})}),Object(E.jsx)(Oe,{variant:"students",open:u,close:function(){h(!1)}}),Object(E.jsx)(de.a,{component:he.a,children:Object(E.jsxs)(ie.a,{className:s.table,"aria-label":"simple table",children:[Object(E.jsx)(je.a,{children:Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ue.a,{children:"Sr No."}),Object(E.jsx)(ue.a,{children:"Student Name"}),Object(E.jsx)(ue.a,{align:"right",children:"Action Button"})]})}),Object(E.jsx)(le.a,{children:a.length>0?a.map((function(e,t){return Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ue.a,{children:t+1}),Object(E.jsx)(ue.a,{component:"th",scope:"row",children:e.studentName}),Object(E.jsx)(ue.a,{align:"right",children:Object(E.jsx)(m.a,{variant:"contained",color:"secondary",onClick:function(){return O(e.id)},children:"Delete"})})]},e.id)})):null})]})})]})},xe=n(495),ge=n(106),ye=n(27),ve=n(492),Se=n(228),we=n.n(Se)()("http://127.0.0.1:2000/"),Te=function(){var e=c.a.useState(new Date),t=Object(b.a)(e,2),n=t[0],r=t[1],s=c.a.useState(new Date),i=Object(b.a)(s,2),l=i[0],u=i[1],h=c.a.useState(""),O=Object(b.a)(h,2),f=O[0],x=O[1],g=c.a.useState([]),v=Object(b.a)(g,2),S=v[0],T=v[1],D=c.a.useState(!1),k=Object(b.a)(D,2),C=(k[0],k[1]),A=c.a.useState([]),N=Object(b.a)(A,2),R=N[0],P=N[1],I=c.a.useState(0),L=Object(b.a)(I,2),B=L[0],W=L[1],M=c.a.useState(10),F=Object(b.a)(M,2),G=F[0],U=F[1],J=Object(o.b)(),q=Object(o.c)((function(e){return{studentsLogs:e.studentsLogs,accessToken:e.accessToken}})),V=q.studentsLogs,z=q.accessToken;Object(a.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){we.on("Attendence Maked",Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:case"end":return e.stop()}}),e)}))))}),[]);var _=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a,c,r,s,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l>=n)){e.next=25;break}t=n,a=l.getTime()-t.getTime(),c=a/864e5,console.log(c),T([]),r=0;case 8:if(!(r<c+1)){e.next=18;break}return s=new Date(new Date(n).setDate(new Date(n).getDate()+r)),o=S,e.next=13,o.push(Object(E.jsxs)(ue.a,{align:"right",children:[s.getDate(),"-",s.getMonth()+1,"-",s.getFullYear()]},r));case 13:return e.next=15,T(o);case 15:r++,e.next=8;break;case 18:return console.log(l,n),e.next=21,fetch("http://localhost:2000/api/ViewStudentsLogs",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+z},body:JSON.stringify({startDate:n,endDate:l})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 21:i=e.sent,console.log(i),i&&(J({type:"GETALLLOGS",payload:i}),P(i.data)),C(!0);case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(e){x(e),function(e){var t=e.toLowerCase().trim();if(console.log("value",t),""===t)P(V);else{var n=V.filter((function(e){return Object.keys(e).some((function(n){return!V.includes(n)&&e[n].toString().toLowerCase().includes(t)}))}));console.log(n),P(n)}}(e)};return console.log(R,"row"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(he.a,{style:{margin:10},children:Object(E.jsx)(ye.a,{utils:ge.a,children:Object(E.jsxs)(y.a,{container:!0,justify:"space-around",alignItems:"center",children:[Object(E.jsx)(ve.a,{margin:"normal",id:"date-picker-dialog",label:"Date picker dialog",format:"yyyy/MM/dd",value:n,onChange:function(e){return r(e)},KeyboardButtonProps:{"aria-label":"change date"}}),Object(E.jsx)(ve.a,{margin:"normal",id:"date-picker-dialog",label:"Date picker dialog",format:"yyyy/MM/dd",value:l,onChange:function(e){return u(e)},KeyboardButtonProps:{"aria-label":"change date"}}),Object(E.jsx)(y.a,{item:!0,xs:12,sm:6,md:3,children:Object(E.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:_,children:"Show Data"})})]})})}),Object(E.jsxs)(he.a,{children:[Object(E.jsxs)(y.a,{container:!0,children:[Object(E.jsx)(y.a,{item:!0,xs:12,sm:6}),Object(E.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(E.jsx)("div",{style:{padding:10},children:Object(E.jsx)(p.a,{value:f,onChange:function(e){return K(e.target.value)},id:"outlined-basic",label:"Student Name",variant:"outlined",fullWidth:!0})})})]}),Object(E.jsx)(de.a,{component:he.a,children:Object(E.jsxs)(ie.a,{"aria-label":"simple table",children:[Object(E.jsx)(je.a,{children:Object(E.jsxs)(be.a,{children:[Object(E.jsx)(ue.a,{children:"Sr No."}),Object(E.jsx)(ue.a,{children:"Student Id"}),Object(E.jsx)(ue.a,{children:"Student Name"}),Object(E.jsx)(ue.a,{children:"Camera"}),Object(E.jsx)(ue.a,{children:"Time"}),Object(E.jsx)(ue.a,{children:"Date"})]})}),Object(E.jsx)(le.a,{children:R.length>0&&R.slice(B*G,B*G+G).map((function(e,t){var n=e.timeDate.split("T")[0],a=e.timeDate.split("T")[1].split(".")[0],c="".concat(String(Number(a.split(":")[0])+5),":").concat(a.split(":")[1]);return Object(E.jsxs)(be.a,{hover:!0,role:"checkbox",tabIndex:-1,children:[Object(E.jsx)(ue.a,{children:Object(E.jsx)(w.a,{children:t+1})}),Object(E.jsx)(ue.a,{children:Object(E.jsx)(w.a,{children:e.studentId})}),Object(E.jsx)(ue.a,{children:Object(E.jsx)(w.a,{children:e.studentName})}),Object(E.jsx)(ue.a,{children:Object(E.jsx)(w.a,{children:e.camera})}),Object(E.jsx)(ue.a,{children:Object(E.jsx)(w.a,{children:c})}),Object(E.jsx)(ue.a,{children:Object(E.jsx)(w.a,{children:n})})]},e.id)}))})]})}),Object(E.jsx)(xe.a,{rowsPerPageOptions:[10,25,100],component:"div",count:R.length,rowsPerPage:G,page:B,onChangePage:function(e,t){W(t)},onChangeRowsPerPage:function(e){U(+e.target.value),W(0)}})]})]})},De=n(499),ke=n(485),Ce=n(471),Ae=n(493),Ne=n(63),Re=n(486),Ee=n(487),Pe=n(111),Ie=n.n(Pe),Le=(n(149),Object(T.a)((function(e){return{root:{width:"100%",height:400,maxWidth:300,backgroundColor:e.palette.background.paper}}})),function(e){var t=Object(o.c)((function(e){return{students:e.students}})).students.filter((function(t){return"All"===e.classRoom||t.classRoom===e.classRoom?t:void 0}));return Object(E.jsx)(Re.a,{style:{textAlign:"center"},children:Object(E.jsxs)(Ee.a,{children:[Object(E.jsx)(w.a,{color:"textSecondary",gutterBottom:!0,children:"Total Students"}),Object(E.jsx)(w.a,{variant:"h5",children:Object(E.jsx)(Ie.a,{start:0,end:t.length,duration:2.5,separator:","})})]})})}),Be=function(e){var t=Object(o.c)((function(e){return{students:e.students,attendence:e.attendence}})),n=t.students,a=t.attendence,c=0;console.log("attendence count",a);var r=n.filter((function(t){a.map((function(n){var a=e.startDate,r=e.endDate;console.log(a,r);for(var s=(r.getTime()-a.getTime())/864e5+1,o=0;o<s;o++){var i=new Date(new Date(a).setDate(new Date(a).getDate()+o)),l=new Date(n.timeDate.split("T")[0]);console.log(l,"attendence Date");var u=e.isSameDayfunc(l,i);console.log(u),!0===u&&t.id===n.studentId&&(c+=1,console.log(c))}}))}));return console.log(r,"filter present",c),Object(E.jsx)(Re.a,{style:{textAlign:"center"},children:Object(E.jsxs)(Ee.a,{children:[Object(E.jsx)(w.a,{color:"textSecondary",gutterBottom:!0,children:"All"===e.classRoom?"Total Student Present in University":"Total Student Present in ClassRoom"}),Object(E.jsx)(w.a,{variant:"h5",children:Object(E.jsx)(Ie.a,{start:0,end:c,duration:2.5,separator:","})})]})})},We=function(e){var t=Object(o.c)((function(e){return{students:e.students,attendence:e.attendence}})),n=t.students,a=t.attendence,c=0;console.log("Absent count",a);var r=n.filter((function(t){a.map((function(n){var a=e.startDate,r=(e.endDate.getTime()-a.getTime())/864e5;console.log(r,"days");for(var s=0;s<r+1;s++){var o=new Date(new Date(a).setDate(new Date(a).getDate()+s)),i=new Date(n.timeDate.split("T")[0]);!0===e.isSameDayfunc(i,o)&&(console.log(t.id,n.studentId),t.id!==n.studentId&&(c+=1))}}))}));return console.log(r,"filter Absent in University",c),Object(E.jsx)(Re.a,{style:{textAlign:"center"},children:Object(E.jsxs)(Ee.a,{children:[Object(E.jsx)(w.a,{color:"textSecondary",gutterBottom:!0,children:"All"===e.classRoom?"Total Student Absent in University":"Total Student Absent in ClassRoom"}),Object(E.jsx)(w.a,{variant:"h5",children:Object(E.jsx)(Ie.a,{start:0,end:0===c?0:n.length-c,duration:2.5,separator:","})})]})})},Me=function(e){var t=Object(o.c)((function(e){return{students:e.students,attendence:e.attendence}})),n=t.students,a=t.attendence,c=[];return console.log("attendence count",a),n.filter((function(t){a.map((function(n){var a=new Date(n.timeDate.split("T")[0]);!0===e.isSameDayfunc(a,new Date)&&("All"===e.classRoom?t.id===n.studentId&&c.push(n):e.classRoom===t.classRoom&&t.id===n.studentId&&c.push(n))}))})),console.log(c,"filter most Present"),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Re.a,{style:{textAlign:"center"},children:Object(E.jsxs)(Ee.a,{children:[Object(E.jsx)(w.a,{color:"textSecondary",gutterBottom:!0,children:"All"===e.classRoom?"Students Present Today in University":"Students Present Today in ClassRoom"}),c.map((function(e,t){return Object(E.jsx)(ee.a,{button:!0,children:Object(E.jsx)(ne.a,{primary:"".concat(t+1," ").concat(e.studentName)},e.studentId)})}))]})})})},Fe=function(e){var t=Object(o.c)((function(e){return{students:e.students,attendence:e.attendence}})),n=t.students,a=t.attendence,c=[];return console.log("attendence count",a),n.filter((function(t){a.length>0?a.map((function(n){var a=new Date(n.timeDate.split("T")[0]);!0===e.isSameDayfunc(a,new Date)&&n.studentId!==t.id&&(console.log(t),c.push(t))})):c.push(t)})),console.log(c,"filter abcent today"),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Re.a,{style:{textAlign:"center"},children:Object(E.jsxs)(Ee.a,{children:[Object(E.jsx)(w.a,{color:"textSecondary",gutterBottom:!0,children:"All"===e.classRoom?"Students Abcent Today in University":"Students Present Today in ClassRoom"}),n.length!==c.length&&c.map((function(e,t){return Object(E.jsx)(ee.a,{button:!0,children:Object(E.jsx)(ne.a,{primary:"".concat(t+1," ").concat(e.studentName)},e.id)})}))]})})})},Ge=Object(T.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)},table:{width:"95vw",height:"80vh",overflow:"scroll",minWidth:650}}})),Ue=function(){var e=Object(o.b)(),t=(Ge(),c.a.useState(new Date)),n=Object(b.a)(t,2),a=n[0],r=n[1],s=c.a.useState(new Date),i=Object(b.a)(s,2),l=i[0],u=i[1],h=c.a.useState("All"),O=Object(b.a)(h,2),p=O[0],f=O[1],x=c.a.useState([]),g=Object(b.a)(x,2),v=g[0],S=g[1],w=c.a.useState(!1),T=Object(b.a)(w,2),D=(T[0],T[1]),k=Object(o.c)((function(e){return{classRoom:e.classRoom,attendence:e.attendence,students:e.students,accessToken:e.accessToken}})),C=k.classRoom,A=k.attendence,N=k.accessToken;k.students;c.a.useEffect((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),c.a.useEffect((function(){we.on("Attendence Maked",Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:case"end":return e.stop()}}),e)}))))}),[]);var R=function(){var t=Object(j.a)(d.a.mark((function t(){var n,c,r,s,o,i,u;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(l>=a)){t.next=25;break}n=a,c=l.getTime()-n.getTime(),r=c/864e5,console.log(r),S([]),s=0;case 8:if(!(s<r+1)){t.next=18;break}return o=new Date(new Date(a).setDate(new Date(a).getDate()+s)),i=v,t.next=13,i.push(Object(E.jsxs)(ue.a,{align:"right",children:[o.getDate(),"-",o.getMonth()+1,"-",o.getFullYear()]},s));case 13:return t.next=15,S(i);case 15:s++,t.next=8;break;case 18:return console.log(l,a),t.next=21,fetch("http://localhost:2000/api/getattendence",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+N},body:JSON.stringify({startDate:a,endDate:l})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 21:u=t.sent,console.log(u),u&&e({type:"GETATTENDENCE",payload:u}),D(!0);case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()};return console.log(A,"attendence"),Object(E.jsxs)("div",{children:[Object(E.jsx)(ye.a,{utils:ge.a,children:Object(E.jsxs)(y.a,{container:!0,justify:"space-around",alignItems:"center",children:[Object(E.jsx)(y.a,{item:!0,xs:12,sm:6,md:3,children:Object(E.jsxs)(Ce.a,{variant:"outlined",fullWidth:!0,children:[Object(E.jsx)(De.a,{id:"demo-simple-select-outlined-label",children:"Select Class Room"}),Object(E.jsxs)(Ae.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:p,onChange:function(e){return f(e.target.value)},label:"Select Class Room",children:[Object(E.jsx)(ke.a,{value:"All",children:"---All---"}),C.length>0?C.map((function(e){return Object(E.jsx)(ke.a,{value:e.classRoomName,children:e.classRoomName},e.id)})):null]})]})}),Object(E.jsx)(ve.a,{margin:"normal",id:"date-picker-dialog",label:"Date picker dialog",format:"yyyy/MM/dd",value:a,onChange:function(e){return r(e)},KeyboardButtonProps:{"aria-label":"change date"}}),Object(E.jsx)(ve.a,{margin:"normal",id:"date-picker-dialog",label:"Date picker dialog",format:"yyyy/MM/dd",value:l,onChange:function(e){return u(e)},KeyboardButtonProps:{"aria-label":"change date"}}),Object(E.jsx)(y.a,{item:!0,xs:12,sm:6,md:3,children:Object(E.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:R,children:"Show Data"})})]})}),Object(E.jsx)("div",{style:{marginTop:30},children:Object(E.jsxs)(y.a,{container:!0,spacing:3,justify:"center",children:[Object(E.jsx)(y.a,{item:!0,xs:12,sm:6,md:4,children:Object(E.jsx)(Le,{classRoom:p})}),Object(E.jsx)(y.a,{item:!0,xs:12,sm:6,md:4,children:Object(E.jsx)(Be,{classRoom:p,startDate:a,endDate:l,isSameDayfunc:P})}),Object(E.jsx)(y.a,{item:!0,xs:12,sm:6,md:4,children:Object(E.jsx)(We,{classRoom:p,startDate:a,endDate:l,isSameDayfunc:P})}),Object(E.jsx)(y.a,{item:!0,xs:12,sm:12,md:5,children:Object(E.jsx)(Me,{classRoom:p,startDate:a,endDate:l,isSameDayfunc:P,style:{height:"50vh",overflow:"scroll"}})}),Object(E.jsx)(y.a,{item:!0,xs:12,sm:12,md:5,children:Object(E.jsx)(Fe,{classRoom:p,startDate:a,endDate:l,style:{height:"50vh",overflow:"scroll"},isSameDayfunc:P})})]})})]})},Je=240,qe=Object(T.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Je,"px)"),marginLeft:Je,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:Je,flexShrink:0},drawerPaper:{width:Je},drawerHeader:Object(F.a)(Object(F.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}));function Ve(){var e=Object(o.b)(),t=Object(o.c)((function(e){return{accessToken:e.accessToken}})).accessToken,n=qe(),a=Object(U.a)(),r=c.a.useState(!1),s=Object(b.a)(r,2),i=s[0],l=s[1],u=c.a.useState("ViewAttendance"),h=Object(b.a)(u,2),m=h[0],p=h[1];c.a.useEffect((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=function(){var n=Object(j.a)(d.a.mark((function n(){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://localhost:2000/api/getAllStudents",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}));case 2:a=n.sent,console.log(a),e({type:"GETSTUDENT",payload:a});case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(E.jsxs)("div",{className:n.root,children:[Object(E.jsx)(O.a,{}),Object(E.jsx)(q.a,{position:"fixed",className:Object(G.a)(n.appBar,Object(M.a)({},n.appBarShift,i)),children:Object(E.jsxs)(V.a,{children:[Object(E.jsx)(K.a,{color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},edge:"start",className:Object(G.a)(n.menuButton,i&&n.hide),children:Object(E.jsx)(H.a,{})}),Object(E.jsx)(w.a,{variant:"h6",noWrap:!0,children:"Menu"})]})}),Object(E.jsxs)(J.a,{className:n.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:n.drawerPaper},children:[Object(E.jsx)("div",{className:n.drawerHeader,children:Object(E.jsx)(K.a,{onClick:function(){l(!1)},children:"ltr"===a.direction?Object(E.jsx)(Q.a,{}):Object(E.jsx)($.a,{})})}),Object(E.jsx)(_.a,{}),Object(E.jsx)(z.a,{children:Object(E.jsxs)(ee.a,{button:!0,onClick:function(){return p("ViewAttendance")},children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ce.a,{})}),Object(E.jsx)(ne.a,{primary:"Check Attendence"})]})}),Object(E.jsx)(z.a,{children:Object(E.jsxs)(ee.a,{button:!0,onClick:function(){return p("ViewStudentsLogs")},children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ce.a,{})}),Object(E.jsx)(ne.a,{primary:"Check Students Logs"})]})}),Object(E.jsx)(_.a,{}),Object(E.jsx)(w.a,{style:{textAlign:"center",marginTop:20},children:"Settings"}),Object(E.jsx)(z.a,{children:Object(E.jsxs)(ee.a,{button:!0,onClick:function(){return p("Students")},children:[Object(E.jsx)(te.a,{children:Object(E.jsx)(ce.a,{})}),Object(E.jsx)(ne.a,{primary:"Add / View Students"})]})})]}),Object(E.jsxs)("main",{className:Object(G.a)(n.content,Object(M.a)({},n.contentShift,i)),children:[Object(E.jsx)("div",{className:n.drawerHeader}),"Students"===m&&Object(E.jsx)(fe,{})||"ViewAttendance"===m&&Object(E.jsx)(Ue,{})||"ViewStudentsLogs"===m&&Object(E.jsx)(Te,{})]})]})}var ze=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return{user:e.user,accessToken:e.accessToken}})),n=t.user;return t.accessToken,c.a.useEffect((function(){we.emit("hello World"),we.on("hello",(function(){console.log("hi!")}))})),c.a.useEffect((function(){var t=localStorage.getItem("user")||{},n=localStorage.getItem("auth");console.log(n);var a=[];try{a=JSON.parse(t)}catch(c){console.log(c)}e({type:"SIGNIN",payload:{user:a,asscessToken:n}})}),[]),Object(E.jsx)(i.a,{children:Object(E.jsxs)(l.c,{children:[Object(E.jsx)(l.a,{path:"/signup",component:W}),Object(E.jsx)(l.a,{exact:!0,path:"/",component:n&&n.name?Ve:L})]})})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,503)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},Ke=n(74),Ye=function(e,t){switch(t.type){case"SIGNIN":return console.log("reducer",t.payload),Object(F.a)(Object(F.a)({},e),{},{user:t.payload.user,accessToken:t.payload.asscessToken});case"SIGNOUT":return Object(F.a)(Object(F.a)({},e),{},{user:t.payload,accessToken:t.payload});case"ADDCLASSROOM":return Object(F.a)(Object(F.a)({},e),{},{classRoom:[].concat(Object(Ne.a)(e.classRoom),[t.payload.data])});case"GETCLASSROOM":return console.log(t.payload),Object(F.a)(Object(F.a)({},e),{},{classRoom:t.payload.data});case"ADDSTUDENT":return Object(F.a)(Object(F.a)({},e),{},{students:[].concat(Object(Ne.a)(e.students),[t.payload.data])});case"GETSTUDENT":return Object(F.a)(Object(F.a)({},e),{},{students:t.payload.data});case"DELETEDATA":return Object(F.a)(Object(F.a)({},e),{},{students:e.students.filter((function(e){return e.id!==t.payload&&e}))});case"GETATTENDENCE":return Object(F.a)(Object(F.a)({},e),{},{attendence:t.payload.data});case"GETALLLOGS":return Object(F.a)(Object(F.a)({},e),{},{studentsLogs:t.payload.data});default:return e}},He=[n(233).a],Xe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ke.c,Qe=Object(Ke.d)(Ye,{user:[],accessToken:"",classRoom:[],students:[],attendence:[],studentsLogs:[]},Xe(Ke.a.apply(void 0,He)));s.a.render(Object(E.jsx)(o.a,{store:Qe,children:Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(ze,{})})}),document.getElementById("root")),_e()}},[[425,1,2]]]);
//# sourceMappingURL=main.dbf0a0c0.chunk.js.map